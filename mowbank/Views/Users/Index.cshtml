@model IEnumerable<mowbank.Models.AppUser>
<div style="display: flex; flex-direction: column; width: 100%; min-height: 80vh; align-items: center;">
    <div class="shadow-lg p-3 mb-5 bg-white rounded"
        style="width: 800px; display: flex; flex-direction: column; align-items: center;min-height: 60vh;">
        <h2>Kullanıcı Listesi</h2>

        <form asp-action="Index" method="get" style="display: flex;justify-content: center;gap:4px;">
            <div class="form-group">
                <input type="text" name="searchString" class="form-control" placeholder="Kullanıcı adıyla ara"
                    value="@ViewData["CurrentFilter"]" />
            </div>
            <button type="submit" class="btn btn-info text-white">Ara</button>
              @if (User.IsInRole("admin"))
            {
            <a href="/Users/Create" class="btn btn-primary">Kullanıcı Ekle</a>}
        </form>

        <table class="table">
            <thead>
                <tr>
                    <th>Kullanıcı Adı</th>
                    <th>Email</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.Count() == 0)
                {
                    <tr>
                        <td colspan="3" class="text-center">Kullanıcı Bulunmadı</td>
                    </tr>
                }
                @foreach (var user in Model)
                {
                    <tr>
                        <td>@user.UserName</td>
                        <td>@user.Email</td>
                        <td>
                              @if (User.IsInRole("admin"))
            {
                            <a asp-action="Edit" asp-route-id="@user.Id" class="btn btn-sm btn-success">Düzenle</a>}
                            <a asp-action="Detailed" asp-route-id="@user.Id" class="btn btn-sm btn-warning">Detaylar</a>
  @if (User.IsInRole("admin"))
            {
                            <form asp-action="Delete" method="post" onsubmit="return confirm('emin misiniz?')"
                                style="display: inline-block;">
                                <input type="hidden" value="@user.Id" name="id">
                                <button type="submit" class="btn btn-danger btn-sm">Sil</button>
                            </form>}
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>